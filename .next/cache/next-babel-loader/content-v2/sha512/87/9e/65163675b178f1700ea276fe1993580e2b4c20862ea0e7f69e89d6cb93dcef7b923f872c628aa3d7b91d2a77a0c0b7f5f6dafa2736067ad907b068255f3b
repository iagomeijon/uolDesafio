{"ast":null,"code":"import { useState } from 'react';\nimport axios from 'axios';\nexport default function useGitHub() {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: user,\n    1: setUser\n  } = useState(null);\n  const {\n    0: userNotFound,\n    1: setuUserNotFound\n  } = useState(false);\n  const {\n    0: repositories,\n    1: setRepositories\n  } = useState(null);\n  const {\n    0: loadingSearch,\n    1: setLoadingSearch\n  } = useState(false);\n\n  async function getUser(userSearch) {\n    setLoadingSearch(true);\n    setuUserNotFound(false);\n    setUser(null);\n    await axios.get(`https://api.github.com/users/${userSearch}`).then(res => {\n      setUser(res.data);\n    }).catch(err => setuUserNotFound(true)).finally(() => setLoadingSearch(false));\n  }\n\n  async function getRepositoriesList() {\n    setRepositories(null);\n    setIsLoading(true);\n\n    if (user) {\n      await axios.get(`https://api.github.com/users/${user.login}/repos`).then(res => {\n        setRepositories(res.data);\n      }).catch().finally(() => setIsLoading(false));\n    }\n  }\n\n  async function getStarredList() {\n    setRepositories(null);\n    setIsLoading(true);\n\n    if (user) {\n      await axios.get(`https://api.github.com/users/${user.login}/starred`).then(res => {\n        setRepositories(res.data);\n      }).catch().finally(() => setIsLoading(false));\n    }\n  }\n\n  function clean() {\n    setuUserNotFound(false);\n    setIsLoading(false);\n    setLoadingSearch(false);\n    setRepositories(null);\n    setUser(null);\n  }\n\n  return {\n    state: {\n      isLoading,\n      user,\n      userNotFound,\n      repositories,\n      loadingSearch\n    },\n    actions: {\n      getUser,\n      getRepositoriesList,\n      getStarredList,\n      clean\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/imachado/Desktop/next-boilerplate/src/core/hooks/useGitHub/index.tsx"],"names":["useState","axios","useGitHub","isLoading","setIsLoading","user","setUser","userNotFound","setuUserNotFound","repositories","setRepositories","loadingSearch","setLoadingSearch","getUser","userSearch","get","then","res","data","catch","err","finally","getRepositoriesList","login","getStarredList","clean","state","actions"],"mappings":"AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,SAAT,GAAqB;AAClC,QAAM;AAAA,OAACC,SAAD;AAAA,OAAYC;AAAZ,MAA4BJ,QAAQ,CAAU,KAAV,CAA1C;AACA,QAAM;AAAA,OAACK,IAAD;AAAA,OAAOC;AAAP,MAAkBN,QAAQ,CAAc,IAAd,CAAhC;AACA,QAAM;AAAA,OAACO,YAAD;AAAA,OAAeC;AAAf,MAAmCR,QAAQ,CAAU,KAAV,CAAjD;AACA,QAAM;AAAA,OAACS,YAAD;AAAA,OAAeC;AAAf,MAAkCV,QAAQ,CAAsB,IAAtB,CAAhD;AACA,QAAM;AAAA,OAACW,aAAD;AAAA,OAAgBC;AAAhB,MAAoCZ,QAAQ,CAAU,KAAV,CAAlD;;AAEA,iBAAea,OAAf,CAAuBC,UAAvB,EAA0D;AACxDF,IAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAJ,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,IAAAA,OAAO,CAAC,IAAD,CAAP;AACA,UAAML,KAAK,CACRc,GADG,CACQ,gCAA+BD,UAAW,EADlD,EAEHE,IAFG,CAEGC,GAAD,IAAS;AACbX,MAAAA,OAAO,CAACW,GAAG,CAACC,IAAL,CAAP;AACD,KAJG,EAKHC,KALG,CAKIC,GAAD,IAASZ,gBAAgB,CAAC,IAAD,CAL5B,EAMHa,OANG,CAMK,MAAMT,gBAAgB,CAAC,KAAD,CAN3B,CAAN;AAOD;;AAED,iBAAeU,mBAAf,GAAoD;AAClDZ,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAN,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AACA,QAAIC,IAAJ,EAAU;AACR,YAAMJ,KAAK,CACRc,GADG,CACE,gCAA+BV,IAAI,CAACkB,KAAM,QAD5C,EAEHP,IAFG,CAEGC,GAAD,IAAS;AACbP,QAAAA,eAAe,CAACO,GAAG,CAACC,IAAL,CAAf;AACD,OAJG,EAKHC,KALG,GAMHE,OANG,CAMK,MAAMjB,YAAY,CAAC,KAAD,CANvB,CAAN;AAOD;AACF;;AAED,iBAAeoB,cAAf,GAA+C;AAC7Cd,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAN,IAAAA,YAAY,CAAC,IAAD,CAAZ;;AACA,QAAIC,IAAJ,EAAU;AACR,YAAMJ,KAAK,CACRc,GADG,CACE,gCAA+BV,IAAI,CAACkB,KAAM,UAD5C,EAEHP,IAFG,CAEGC,GAAD,IAAS;AACbP,QAAAA,eAAe,CAACO,GAAG,CAACC,IAAL,CAAf;AACD,OAJG,EAKHC,KALG,GAMHE,OANG,CAMK,MAAMjB,YAAY,CAAC,KAAD,CANvB,CAAN;AAOD;AACF;;AAED,WAASqB,KAAT,GAAuB;AACrBjB,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAJ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAQ,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD;;AAED,SAAO;AACLoB,IAAAA,KAAK,EAAE;AACLvB,MAAAA,SADK;AAELE,MAAAA,IAFK;AAGLE,MAAAA,YAHK;AAILE,MAAAA,YAJK;AAKLE,MAAAA;AALK,KADF;AAQLgB,IAAAA,OAAO,EAAE;AACPd,MAAAA,OADO;AAEPS,MAAAA,mBAFO;AAGPE,MAAAA,cAHO;AAIPC,MAAAA;AAJO;AARJ,GAAP;AAeD","sourcesContent":["import { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { User, Repository } from './interface';\r\n\r\nexport default function useGitHub() {\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [userNotFound, setuUserNotFound] = useState<boolean>(false);\r\n  const [repositories, setRepositories] = useState<Repository[] | null>(null);\r\n  const [loadingSearch, setLoadingSearch] = useState<boolean>(false);\r\n\r\n  async function getUser(userSearch: string): Promise<void> {\r\n    setLoadingSearch(true);\r\n    setuUserNotFound(false);\r\n    setUser(null);\r\n    await axios\r\n      .get<User>(`https://api.github.com/users/${userSearch}`)\r\n      .then((res) => {\r\n        setUser(res.data);\r\n      })\r\n      .catch((err) => setuUserNotFound(true))\r\n      .finally(() => setLoadingSearch(false));\r\n  }\r\n\r\n  async function getRepositoriesList(): Promise<void> {\r\n    setRepositories(null);\r\n    setIsLoading(true);\r\n    if (user) {\r\n      await axios\r\n        .get(`https://api.github.com/users/${user.login}/repos`)\r\n        .then((res) => {\r\n          setRepositories(res.data);\r\n        })\r\n        .catch()\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }\r\n\r\n  async function getStarredList(): Promise<void> {\r\n    setRepositories(null);\r\n    setIsLoading(true);\r\n    if (user) {\r\n      await axios\r\n        .get(`https://api.github.com/users/${user.login}/starred`)\r\n        .then((res) => {\r\n          setRepositories(res.data);\r\n        })\r\n        .catch()\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }\r\n\r\n  function clean(): void {\r\n    setuUserNotFound(false);\r\n    setIsLoading(false);\r\n    setLoadingSearch(false);\r\n    setRepositories(null);\r\n    setUser(null);\r\n  }\r\n\r\n  return {\r\n    state: {\r\n      isLoading,\r\n      user,\r\n      userNotFound,\r\n      repositories,\r\n      loadingSearch,\r\n    },\r\n    actions: {\r\n      getUser,\r\n      getRepositoriesList,\r\n      getStarredList,\r\n      clean,\r\n    },\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}