{"ast":null,"code":"import _regeneratorRuntime from \"/home/iago/Desktop/uolDesafio/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/iago/Desktop/uolDesafio/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport axios from 'axios';\nexport default function useGitHub() {\n  _s();\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(null),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      userNotFound = _useState3[0],\n      setuUserNotFound = _useState3[1];\n\n  var _useState4 = useState(null),\n      repositories = _useState4[0],\n      setRepositories = _useState4[1];\n\n  function getUser(_x) {\n    return _getUser.apply(this, arguments);\n  }\n\n  function _getUser() {\n    _getUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(userSearch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsLoading(true);\n              setuUserNotFound(false);\n              setUser(null);\n              _context.next = 5;\n              return axios.get(\"https://api.github.com/users/\".concat(userSearch)).then(function (res) {\n                setUser(res.data);\n              })[\"catch\"](function (err) {\n                return setuUserNotFound(true);\n              })[\"finally\"](function () {\n                return setIsLoading(false);\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getUser.apply(this, arguments);\n  }\n\n  function getRepos() {\n    return _getRepos.apply(this, arguments);\n  }\n\n  function _getRepos() {\n    _getRepos = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setIsLoading(true);\n\n              if (!user) {\n                _context2.next = 4;\n                break;\n              }\n\n              _context2.next = 4;\n              return axios.get(\"https://api.github.com/users/\".concat(user.login, \"/repos\")).then(function (res) {\n                setRepositories(res.data);\n              })[\"catch\"]()[\"finally\"](function () {\n                return setIsLoading(false);\n              });\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _getRepos.apply(this, arguments);\n  }\n\n  function clean() {\n    setuUserNotFound(false);\n    setIsLoading(false);\n    setRepositories(null);\n    setUser(null);\n  }\n\n  return {\n    state: {\n      isLoading: isLoading,\n      user: user,\n      userNotFound: userNotFound,\n      repositories: repositories\n    },\n    actions: {\n      getUser: getUser,\n      getRepos: getRepos,\n      clean: clean\n    }\n  };\n}\n\n_s(useGitHub, \"ZTMsY0KIovesYoMfYkcuu3dA7ww=\");","map":{"version":3,"sources":["/home/iago/Desktop/uolDesafio/src/core/hooks/useGitHub/index.tsx"],"names":["useState","axios","useGitHub","isLoading","setIsLoading","user","setUser","userNotFound","setuUserNotFound","repositories","setRepositories","getUser","userSearch","get","then","res","data","err","getRepos","login","clean","state","actions"],"mappings":";;;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAAA,kBACAF,QAAQ,CAAU,KAAV,CADR;AAAA,MAC3BG,SAD2B;AAAA,MAChBC,YADgB;;AAAA,mBAEVJ,QAAQ,CAAc,IAAd,CAFE;AAAA,MAE3BK,IAF2B;AAAA,MAErBC,OAFqB;;AAAA,mBAGON,QAAQ,CAAU,KAAV,CAHf;AAAA,MAG3BO,YAH2B;AAAA,MAGbC,gBAHa;;AAAA,mBAIMR,QAAQ,CAAsB,IAAtB,CAJd;AAAA,MAI3BS,YAJ2B;AAAA,MAIbC,eAJa;;AAAA,WAMnBC,OANmB;AAAA;AAAA;;AAAA;AAAA,wEAMlC,iBAAuBC,UAAvB;AAAA;AAAA;AAAA;AAAA;AACER,cAAAA,YAAY,CAAC,IAAD,CAAZ;AACAI,cAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,cAAAA,OAAO,CAAC,IAAD,CAAP;AAHF;AAAA,qBAIQL,KAAK,CACRY,GADG,wCACuCD,UADvC,GAEHE,IAFG,CAEE,UAACC,GAAD,EAAS;AACbT,gBAAAA,OAAO,CAACS,GAAG,CAACC,IAAL,CAAP;AACD,eAJG,WAKG,UAACC,GAAD;AAAA,uBAAST,gBAAgB,CAAC,IAAD,CAAzB;AAAA,eALH,aAMK;AAAA,uBAAMJ,YAAY,CAAC,KAAD,CAAlB;AAAA,eANL,CAJR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KANkC;AAAA;AAAA;;AAAA,WAmBnBc,QAnBmB;AAAA;AAAA;;AAAA;AAAA,yEAmBlC;AAAA;AAAA;AAAA;AAAA;AACEd,cAAAA,YAAY,CAAC,IAAD,CAAZ;;AADF,mBAEMC,IAFN;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAGUJ,KAAK,CACRY,GADG,wCACiCR,IAAI,CAACc,KADtC,aAEHL,IAFG,CAEE,UAACC,GAAD,EAAS;AACbL,gBAAAA,eAAe,CAACK,GAAG,CAACC,IAAL,CAAf;AACD,eAJG,wBAMK;AAAA,uBAAMZ,YAAY,CAAC,KAAD,CAAlB;AAAA,eANL,CAHV;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnBkC;AAAA;AAAA;;AAgClC,WAASgB,KAAT,GAAuB;AACrBZ,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAJ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAM,IAAAA,eAAe,CAAC,IAAD,CAAf;AACAJ,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD;;AAED,SAAO;AACLe,IAAAA,KAAK,EAAE;AACLlB,MAAAA,SAAS,EAATA,SADK;AAELE,MAAAA,IAAI,EAAJA,IAFK;AAGLE,MAAAA,YAAY,EAAZA,YAHK;AAILE,MAAAA,YAAY,EAAZA;AAJK,KADF;AAOLa,IAAAA,OAAO,EAAE;AACPX,MAAAA,OAAO,EAAPA,OADO;AAEPO,MAAAA,QAAQ,EAARA,QAFO;AAGPE,MAAAA,KAAK,EAALA;AAHO;AAPJ,GAAP;AAaD;;GApDuBlB,S","sourcesContent":["import { useState } from 'react';\nimport axios from 'axios';\nimport { User, Repository } from './interface';\n\nexport default function useGitHub() {\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [user, setUser] = useState<User | null>(null);\n  const [userNotFound, setuUserNotFound] = useState<boolean>(false);\n  const [repositories, setRepositories] = useState<Repository[] | null>(null);\n\n  async function getUser(userSearch: string): Promise<void> {\n    setIsLoading(true);\n    setuUserNotFound(false);\n    setUser(null);\n    await axios\n      .get<User>(`https://api.github.com/users/${userSearch}`)\n      .then((res) => {\n        setUser(res.data);\n      })\n      .catch((err) => setuUserNotFound(true))\n      .finally(() => setIsLoading(false));\n  }\n\n  async function getRepos(): Promise<void> {\n    setIsLoading(true);\n    if (user) {\n      await axios\n        .get(`https://api.github.com/users/${user.login}/repos`)\n        .then((res) => {\n          setRepositories(res.data);\n        })\n        .catch()\n        .finally(() => setIsLoading(false));\n    }\n  }\n\n  function clean(): void {\n    setuUserNotFound(false);\n    setIsLoading(false);\n    setRepositories(null);\n    setUser(null);\n  }\n\n  return {\n    state: {\n      isLoading,\n      user,\n      userNotFound,\n      repositories,\n    },\n    actions: {\n      getUser,\n      getRepos,\n      clean,\n    },\n  };\n}\n"]},"metadata":{},"sourceType":"module"}